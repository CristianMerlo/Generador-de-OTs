<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de OT - Mantenimiento</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" href="images/logo-mostaza-chico-150x150.png" type="image/png">
    <script>
        // Asegurar que la p√°gina siempre se cargue en la parte superior
        window.onload = function() {
            window.scrollTo(0, 0);
        }
        
        // Tambi√©n forzar el scroll al inicio si se navega hacia atr√°s/adelante
        window.onbeforeunload = function() {
            window.scrollTo(0, 0);
        }
        
        // Asegurar que la p√°gina comience en la parte superior incluso antes de que se cargue completamente
        if (history.scrollRestoration) {
            history.scrollRestoration = 'manual';
        }
    </script>
</head>
<body>
    <!-- Fondo de malla de puntos -->
    <div class="network-background">
        <canvas id="networkCanvas"></canvas>
    </div>
    
    <div class="container" id="inicio">
        <div class="header">
            <div class="logo-container">
                <img src="images/logo-mostaza-rojo.png" alt="Logo Mostaza" class="logo">
            </div>
            <h1>GENERAR ORDEN DE TRABAJO PARA MANTENIMIENTO</h1>
        </div>

        <div class="form-section">
            <form id="otForm" autocomplete="off">
                <div class="form-group">
                    <label for="tipoLocal">Seleccione el tipo de Local:</label>
                    <select id="tipoLocal" aria-label="Tipo de Local" required>
                        <option value="">-- Seleccionar --</option>
                        <option value="Propio">Propio</option>
                        <option value="Franquiciado">Franquiciado</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="idTienda">ID de Tienda:</label>
                    <input type="text" id="idTienda" placeholder="Ej: T-1024" aria-label="ID de Tienda" required>
                </div>
                
                <div class="form-group">
                    <label for="solicitante">Nombre del Solicitante:</label>
                    <input type="text" id="solicitante" placeholder="Ingrese su nombre" aria-label="Nombre del Solicitante" required>
                </div>

                <div class="form-group">
                    <label for="caracterOT">Car√°cter de la OT:</label>
                    <select id="caracterOT" aria-label="Car√°cter de la OT" required>
                        <option value="">-- Seleccionar --</option>
                        <option value="Urgente">Urgente</option>
                        <option value="Cr√≠tico">Cr√≠tico</option>
                        <option value="Planificado">Planificado</option>
                        <option value="Preventivo">Preventivo</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="descripcion">Descripci√≥n del incidente o pedido de servicio:</label>
                    <textarea id="descripcion" placeholder="Describa detalladamente el requerimiento..." aria-label="Descripci√≥n del incidente" required></textarea>
                </div>
            </form>
        </div>

        <div class="button-container">
            <button id="generarBtn" type="button">Generar N√∫mero de OT</button>
        </div>

        <div class="result-section">
            <div id="numeroOT" style="display: none;">
                ‚ñ∂ N√∫mero de OT generado: <span id="otGenerado"></span>
            </div>

            <div class="form-group">
                <label for="resumenOT">Copie y pegue el resultado en el sector de enviar:</label>
                <textarea id="resumenOT" rows="6" readonly aria-label="Resumen de la OT"></textarea>
                <div class="copy-container">
                    <button id="copiarBtn" type="button">Copiar</button>
                    <span id="copyMessage" class="copy-message"></span>
                </div>
            </div>
        </div>
        
        <div class="google-form-container">
            <div class="form-action-buttons">
                <button type="button" id="pegarResumenBtn" class="action-button pegar-button">
                    <span class="icon">üìã</span> Pegar Resumen en Formulario
                </button>
            </div>
            <iframe src="https://forms.gle/UmFFpCRuV942BuJ26" width="100%" height="700" frameborder="0" marginheight="0" marginwidth="0">Cargando‚Ä¶</iframe>
        </div>
        
        <!-- Botones de navegaci√≥n -->
        <div class="nav-buttons">
            <a href="asistente.html" id="asistenteIABtn" class="nav-button asistente-button">
                <span class="icon">ü§ñ</span> Asistente IA
            </a>
            <button id="nuevaOTBtn" class="nav-button nueva-ot-button">
                <span class="icon">‚Üª</span> Nueva OT
            </button>
            <button id="volverArribaBtn" class="nav-button volver-arriba-button">
                <span class="icon">‚Üë</span> Volver arriba
            </button>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>
</html>